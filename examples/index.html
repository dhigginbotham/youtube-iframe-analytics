<html>
  <head>
    <title>YouTube IFRAME Analytics</title>
    <link rel='stylesheet' href='css/style.css'>
  </head>
  <body>
    
    <div class='container'>
      <span class="pr">
        <a href="https://www.github.com/dhigginbotham/youtube-iframe-analytics">
          Go to github page
        </a>
      </span>
      <h1>
        <a href="https://www.github.com/dhigginbotham/youtube-iframe-analytics">
          Youtube IFRAME Analytics Example
        </a>
      </h1>
      
      <div class='cf'>
        <div class='two-col column-card'>
          <div id='output'></div>
        </div>
        <div class='two-col'>
          <div data-yt-analytics='O1YP8QP9gLA' data-yt-width='300' data-yt-height='200' data-yt-vars='{"fs": 1, "autoplay": 1}'></div>
          <div data-yt-analytics='z8UgDZ4rXBU' data-yt-width='300' data-yt-height='200' data-yt-title='Netflix does cool stuff with node.js!'></div>
          <div data-yt-analytics='DqMFX91ToLw' data-yt-width='300' data-yt-height='200'></div>
          <div data-yt-analytics='FAZJsxcykPs' data-yt-width='300' data-yt-height='200'></div>
          <div data-yt-analytics='z-yU0sVdKTo' data-yt-width='300' data-yt-height='200'></div>
        </div>    
      </div>
        
    </div>
    
    <script src='js/videoAnalytics.js' data-yt-debug='true'></script>
    <script>

      function createDomElement(e, state) {
        var el = document.getElementById('output');
        var json = JSON.stringify(state,null,2);
        var pre = document.createElement('pre');
        var text = document.createTextNode(json);
        pre.appendChild(text);
        if (el.childNodes.length) {
          el.insertBefore(pre, el.childNodes[0]);
        } else {
          el.appendChild(pre);
        }
        if (el.scrollTop) el.scrollTop = 0;
      }

      function init() {
        videoAnalytics.on(['ready','stateChange','error'], '*', createDomElement);
      }
      document.addEventListener('DOMContentLoaded', init, false);

    </script>
  </body>
</html>