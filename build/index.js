!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.videoAnalytics=e()}}(function(){return function e(t,n,r){function i(o,d){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!d&&s)return s(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r={},i={};i.videos={},i.events={},i.queue=[],r.init=function(){i.collectDom(),i.queue.length&&i.injectScripts()},r.on=function(e,t,n){return i.videos[t].events[e]instanceof Array||(i.videos[t].events[e]=[]),i.videos[t].events[e].push(n),r},r.attachVideos=function(){for(var e;e=i.queue.shift();)e.player=new YT.Player(e.el,e.opts),e.player._id=e.opts.videoId},i.collectDom=function(){for(var e=document.querySelectorAll("[data-yt-analytics]"),t=0;t<e.length;++t)i.referenceObject(e[t])},i.referenceObject=function(e){var t={};t.videoId=e.getAttribute("data-yt-analytics")?e.getAttribute("data-yt-analytics"):null,t.videoId&&null==e.getAttribute("data-yt-tracked")&&(t.width=e.getAttribute("data-yt-width")?e.getAttribute("data-yt-width"):640,t.height=e.getAttribute("data-yt-height")?e.getAttribute("data-yt-height"):390,t.playerVars=e.getAttribute("data-yt-vars")?e.getAttribute("data-yt-vars"):null,t.events=i.setupEvents(),i.videos[t.videoId]={opts:t,el:e,events:{}},i.queue.push(i.videos[t.videoId]),e.setAttribute("data-yt-tracked",!0))},i.setupEvents=function(){var e={};return e.onReady=i.events.ready,e.onStateChange=i.events.stateChange,e},i.events.ready=function(e){if(console.log("%s is ready",e.target._id),i.videos[e.target._id].events.ready){var t=i.videos[e.target._id].events.ready;return t.forEach(function(t){return t(e)})}},i.events.stateChange=function(e){var t="unstarted";if(e.data===YT.PlayerState.BUFFERING?t="buffering":e.data===YT.PlayerState.CUED?t="cued":e.data===YT.PlayerState.ENDED?t="ended":e.data===YT.PlayerState.PAUSED?t="paused":e.data===YT.PlayerState.PLAYING&&(t="playing"),console.log("%s is %s",e.target._id,t),i.videos[e.target._id].events.stateChange){var n=i.videos[e.target._id].events.stateChange;n.forEach(function(n){return n(t,e)})}},i.injectScripts=function(e){if(!i.videos.scriptInclude){window.onYouTubeIframeAPIReady=r.attachVideos;var t=document.getElementsByTagName("script")[0];i.videos.scriptInclude=document.createElement("script"),"function"==typeof e&&(i.videos.scriptInclude.setAttribute("async",!0),i.videos.scriptInclude.addEventListener("load",e,!1)),i.videos.scriptInclude.setAttribute("src","//www.youtube.com/iframe_api"),t.parentNode.insertBefore(i.videos.scriptInclude,t)}},document.addEventListener("DOMContentLoaded",r.init,!1),t.exports=r},{}]},{},[1])(1)});